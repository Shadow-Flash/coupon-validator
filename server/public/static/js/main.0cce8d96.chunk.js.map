{"version":3,"sources":["util/dataContext.js","reducer/types.js","components/Upper-Half/Card-Template/CardTemplate.jsx","components/Upper-Half/Card-Template/CardContent.js","components/Upper-Half/UpperHalf.jsx","components/Lower-Half/Checkout/Checkout.jsx","components/Lower-Half/Create-Coupon/inputInitialState.js","components/Lower-Half/Create-Coupon/CreateCoupon.jsx","util/validation.js","components/Lower-Half/Cart/Cart.jsx","components/Lower-Half/ListOfCoupons/ListOfCoupons.jsx","components/Lower-Half/LowerHalf.jsx","reducer/Reducer.js","App.jsx","index.js"],"names":["dataContext","React","createContext","ADD_TO_CART","ADD_COUPON","SWITCH_TO_CREATE","SET_SERVER_ERROR","CardTemplateComponent","props","name","category","price","dispatch","useContext","className","onClick","ItemAdded","type","serverError","cardsContent","UpperHalfComponent","map","cardVal","id","CardTemplate","CheckoutComponent","state","useState","totalAmt","setTotalAmt","couponCode","setCouponCode","setServerError","useEffect","Cart","cart","total","length","htmlFor","value","onChange","e","target","fetch","method","headers","body","JSON","stringify","then","result","a","json","data","ok","error","message","Promise","reject","catch","switchVal","initState","typeOfCode","code","desc","priceDeduct","sd","ed","minAmt","percentDeduct","maxPercent","CreateCouponComponent","coupon","setCoupon","errors","handleSubmitCouponBtn","preventDefault","Object","entries","forEach","couponData","codeRegex","RegExp","includes","test","validateFormInput","keys","val","field","prev","resolve","values","newCoupon","console","log","err","handleInputChange","onSubmit","CartComponent","item","ListOfCouponsComponents","allCoupons","setAllCoupons","showServerErr","setShowServerErr","showCoupon","setShowCoupon","coupons","LowerHalfComponent","style","border","createMode","initialState","couponCount","reducer","action","undefined","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0cce8d96.chunk.js","sourcesContent":["import React from 'react';\n\nconst dataContext = React.createContext();\n\nexport default dataContext;","export const ADD_TO_CART = 'addToCart';\nexport const ADD_COUPON = 'addCoupon';\nexport const SWITCH_TO_CREATE = 'switchToCreate';\nexport const SET_SERVER_ERROR = 'serverError';","import React from 'react';\nimport './Cards.css';\nimport dataContext from '../../../util/dataContext';\nimport {ADD_TO_CART, SET_SERVER_ERROR} from '../../../reducer/types';\n\nfunction CardTemplateComponent(props) {\n  const {name, category, price} = props;\n  const {dispatch} = React.useContext(dataContext);\n\n  function handleAddToCart(ItemAdded) {\n    let serverError = \"\";\n    dispatch({\n      type: ADD_TO_CART,\n      ...ItemAdded\n    });\n    dispatch({\n      type: SET_SERVER_ERROR,\n      serverError\n    });\n  }\n\n  return (\n    <div className='card-border'>\n      <div className='card-background'>\n        <div className='left'>\n          <h4 className='name'>{name}</h4>\n          <p className='category'>{category}</p>\n        </div>\n        <div className='right'>\n          <div className='price'>{price}</div>\n          <div className='atc-btn' onClick={() => handleAddToCart({name,category,price})}>Add to cart</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CardTemplateComponent;","const cardsContent = [\n    {\n        \"name\": \"Silk Cloth\",\n        \"category\": \"Soft\",\n        \"price\": 1000\n    },\n    {\n        \"name\": \"Cardigan\",\n        \"category\": \"Soft\",\n        \"price\": 2000\n    },\n    {\n        \"name\": \"Corset\",\n        \"category\": \"Hard\",\n        \"price\": 5000\n    },\n    {\n        \"name\": \"Dungarees\",\n        \"category\": \"Hard\",\n        \"price\": 8000\n    },\n    {\n        \"name\": \"Saari\",\n        \"category\": \"Casual\",\n        \"price\": 2550\n    },\n    {\n        \"name\": \"Jeans\",\n        \"category\": \"Hard\",\n        \"price\": 1599\n    },\n    {\n        \"name\": \"Shirt\",\n        \"category\": \"Casual\",\n        \"price\": 399\n    },\n    {\n        \"name\": \"Tops\",\n        \"category\": \"Casual\",\n        \"price\": 201\n    },\n]\n\nexport {cardsContent};","import React from 'react';\nimport './UpperHalf.css';\nimport CardTemplate from './Card-Template/CardTemplate';\nimport {cardsContent} from './Card-Template/CardContent';\n\nfunction UpperHalfComponent() {\n  return (\n    <>\n    <h1 className='heading'>Buy Clothes:</h1>\n    <div className='upper-half-display'>\n        {cardsContent.map((cardVal,id) => {\n            return <CardTemplate key={id} name={cardVal.name} category={cardVal.category} price={cardVal.price}/>\n        })}\n    </div>\n    </>\n  )\n}\n\nexport default UpperHalfComponent;","import React from 'react';\nimport './Checkout.css';\nimport dataContext from '../../../util/dataContext';\nimport {SWITCH_TO_CREATE, SET_SERVER_ERROR} from '../../../reducer/types';\n\nfunction CheckoutComponent() {\n    const {state, dispatch} = React.useContext(dataContext);\n    const [totalAmt, setTotalAmt] = React.useState(0);\n    const [couponCode, setCouponCode] = React.useState('');\n\n    function handleRedeemCoupon() {\n      setServerError('');\n      fetch('/redeem-coupon',{\n        method: 'POST',\n        headers: { 'Content-Type' : 'application/json'},\n        body: JSON.stringify({couponCode,totalAmt})\n      })\n      .then(async (result) => {\n        const data = await result.json();\n        setCouponCode('');\n        if(!result.ok){\n          const error = data.message;\n          return Promise.reject(error);\n        }\n        else {\n          setTotalAmt(totalAmt - data.data);\n        }\n      })\n      .catch((error) => {\n        setServerError(error);\n      });\n    }\n\n    React.useEffect(() => {\n      (function() {\n        let Cart = state.cart;\n        let total = 0;\n        for (const product of Cart){\n          total += product.price;\n        }\n        setTotalAmt(total);\n      })();\n    },[state.cart]);\n\n    function handleCouponCode(e) {\n      setCouponCode(e.target.value);\n    }\n\n    function handleCreateCouponBtn(switchVal) {\n        dispatch({\n            type: SWITCH_TO_CREATE,\n            switchVal\n        })\n    }\n\n    function setServerError(serverError) {\n        dispatch({\n            type: SET_SERVER_ERROR,\n            serverError\n        })\n    }\n\n  return (\n    <div>\n        <h1>Checkout:</h1>\n        <p>Total Items: <b>{state.cart.length}</b></p>\n        <label htmlFor='couponCode'>Redeem Coupon: <input name='couponCode' type='text' value={couponCode} onChange={handleCouponCode} /> </label>\n        <div className='after-applyBtn'>\n          <div className='apply-btn' onClick={() => {handleRedeemCoupon()}}>Apply</div>\n          <p className='p-error'>{state.serverError}</p>\n        </div>\n        <p>Total Amount: <b>&#8377;{totalAmt ? totalAmt : 0}</b></p>\n        <div className='coupon-btn' onClick={() => handleCreateCouponBtn(true)}>Create Coupon</div>\n    </div>\n  )\n}\n\nexport default CheckoutComponent;","export const initState = {\n    typeOfCode: {\n        value: 'flat',\n        error: ''\n    },\n    code: {\n        value: '',\n        error: '',\n    },\n    desc: {\n        value: '',\n        error: '',\n    },\n    priceDeduct: {\n        value: '',\n        error: '',\n    },\n    sd: {\n        value: '',\n        error: '',\n    },\n    ed: {\n        value: '',\n        error: '',\n    },\n    minAmt: {\n        value: '',\n        error: '',\n    },\n    percentDeduct: {\n        value: '',\n        error: '',\n    },\n    maxPercent: {\n        value: '',\n        error: '',\n    },\n};","import React from 'react';\nimport './CreateCoupon.css';\nimport dataContext from '../../../util/dataContext';\nimport {SWITCH_TO_CREATE, ADD_COUPON} from '../../../reducer/types';\nimport { initState }  from './inputInitialState';\nimport { validateFormInput } from '../../../util/validation';\n\nfunction CreateCouponComponent() {\n    const {dispatch} = React.useContext(dataContext);\n    const [coupon, setCoupon] = React.useState(initState);\n    const [serverError, setServerError] = React.useState('');\n    let errors = {};\n\n    function handleSubmitCouponBtn(e) {\n        e.preventDefault();\n        sendTheRequest().then(() => {\n            let newCoupon = {};\n            Object.entries(coupon).forEach(values => {\n                newCoupon[values[0]] = values[1].value;\n            })\n            fetch('/create-coupon',{\n                method: 'POST',\n                headers: { 'Content-Type' : 'application/json'},\n                body: JSON.stringify(newCoupon)\n            })\n            .then(async result => {\n                const data = await result.json();\n                if(!result.ok){\n                    const error = data.message;\n                    console.log(error);\n                    return Promise.reject(error);\n                }\n                dispatch({type: ADD_COUPON});\n                setCoupon(initState);\n            })\n            .catch(err => setServerError(err));\n        })\n        .catch(() => {\n            console.log(\"CANCELLED!!\");\n        })\n    }\n\n    function updateStateError(field, error) {\n        setCoupon((prev) => ({\n             ...prev,\n            [field]: {\n                ...prev[field],\n                error\n            }\n        }))\n    }\n\n    function validateFields() {\n        Object.entries(coupon).forEach((value) => {\n            validateFormInput(errors, value, coupon.typeOfCode.value);\n        })\n        Object.keys(errors).forEach(val => {\n            updateStateError(val,errors[val]);\n        })\n    }\n\n    function handleInputChange(e) {\n        setCoupon({\n            ...coupon,\n            [e.target.name]: {\n                ...coupon[e.target.name],\n                value: e.target.value\n            }\n        })\n    }\n\n    function sendTheRequest() {\n        validateFields();\n        return new Promise((resolve, reject) => {\n            Object.values(errors).forEach((val) => {\n                if(val !== \"\"){\n                    reject();\n                }\n            })\n            resolve();\n        })\n    }\n\n    function handleBackBtn(switchVal) {\n        dispatch({\n            type: SWITCH_TO_CREATE,\n            switchVal\n        })\n    }\n\n  return (\n    <div>\n        <h1>Create Coupon:</h1>\n        <form onSubmit={(e) => handleSubmitCouponBtn(e)}>\n            <label htmlFor='typeOfCode'>\n                Type of Discount:\n            </label>\n            <select className='mid-size' name='typeOfCode' value={coupon.typeOfCode.value} onChange={handleInputChange}>\n                <option value='flat'>Flat</option>\n                <option value='upto'>Upto</option>\n            </select>\n            {coupon.typeOfCode.error ? <p className='error'>{coupon.typeOfCode.error}</p> : null}\n            <br></br>\n            <label htmlFor='code'>\n                Coupon Code:\n                <input className='mid-size' name='code' type='text' value={coupon.code.value} onChange={handleInputChange}/>\n                {coupon.code.error ? <p className='error'>{coupon.code.error}</p> : null}\n            </label>\n            <br></br>\n            <label htmlFor='desc'>\n                Description: \n                <input className='large-size' name='desc' type='text' value={coupon.desc.value} onChange={handleInputChange}/>\n                {coupon.desc.error ? <p className='error'>{coupon.desc.error}</p> : null}\n            </label>\n            <br></br>\n            {coupon.typeOfCode.value === 'upto' ? <label htmlFor='percentDeduct'>\n                How much percent discount:\n                <input className='mid-size' name='percentDeduct' type='number' value={coupon.percentDeduct.value} onChange={handleInputChange}/>\n                {coupon.percentDeduct.error ? <p className='error'>{coupon.percentDeduct.error}</p> : null}\n            </label> :\n            <label htmlFor='priceDeduct'>\n                Price to deduct:\n                <input className='mid-size' name='priceDeduct' type='number' value={coupon.priceDeduct.value} onChange={handleInputChange}/>\n                {coupon.priceDeduct.error ? <p className='error'>{coupon.priceDeduct.error}</p> : null}\n            </label> }\n            <br></br>\n            <label htmlFor='sd'>\n                Start Date:\n                <input className='large-size' name='sd' type='date' value={coupon.sd.value} onChange={handleInputChange}/>\n                {coupon.sd.error ? <p className='error'>{coupon.sd.error}</p> : null}\n            </label>\n            <br></br>\n            <label htmlFor='ed'>\n                End Date:\n                <input className='large-size' name='ed' type='date' value={coupon.ed.value} onChange={handleInputChange}/>\n                {coupon.ed.error ? <p className='error'>{coupon.ed.error}</p> : null}\n            </label>\n            <br></br>\n            <label htmlFor='minAmt'>\n                Minimum amount to apply:\n                <input className='mid-size' name='minAmt' type='number' value={coupon.minAmt.value} onChange={handleInputChange}/>\n                {coupon.minAmt.error ? <p className='error'>{coupon.minAmt.error}</p> : null}\n            </label>\n            <br></br>\n           {coupon.typeOfCode.value === 'upto' ? <label htmlFor='maxPercent'>\n                Maximum amount to be discounted:\n                <input className='mid-size' name='maxPercent' type='number' value={coupon.maxPercent.value} onChange={handleInputChange}/>\n                {coupon.maxPercent.error ? <p className='error'>{coupon.maxPercent.error}</p> : null}\n            </label> : null}\n            <div className='buttons'>\n                <button className='submit-coupon-btn'>Submit</button>\n                <div className='back-btn' onClick={() => handleBackBtn(false)}>Back</div>\n            </div>\n            {serverError ? <p className='server-error'>{serverError}</p> : null}\n        </form>\n    </div>\n  )\n}\n\nexport default CreateCouponComponent;","export function validateFormInput(errors, couponData, type, date = null) {\n    let name = couponData[0];\n    let value = couponData[1].value;\n    const codeRegex = RegExp(/^[a-zA-Z0-9]*$/);\n    switch(name) {\n        case 'typeOfCode':\n            errors[name] = !['flat','upto'].includes(value) ? \"Not a valid coupon type!\" : \"\";\n            break;\n\n        case 'code':\n            if (value.length > 0) {\n                if (value.length < 4)\n                    errors[name] = \"Length of code should be greater than 4\";\n                else if (value.length > 14)\n                    errors[name] = \"Length of code should be Less than 14\";\n                else if (!codeRegex.test(value))\n                    errors[name] = \"Please enter a valid code !\";\n                else\n                    errors[name] = \"\";\n            } else {\n                errors[name] = \"Length of code should be greater than 4\";\n            }\n            break;\n\n        case 'desc':\n            errors[name] = value.length > 100 ? \"Length of description should be less than 100 characters\" : \"\";\n            break;\n\n        case 'priceDeduct':\n            errors[name] = value < 100 && type === 'flat' ? \"Price to be deduct should be greater than 100\" : \"\";\n            break;\n\n        case 'sd':\n            errors[name] = value === \"\" ? \"Start date is required\" : \"\";\n            break;\n\n        case 'ed':\n            errors[name] = value === \"\" ? \"End date is required\" : \"\";\n            break;\n\n        case 'minAmt':\n            errors[name] = value === \"\" ? \"Minimum amount of cart can't be empty\" : value <= 100 ? \"Minimum amount should be greater than 100\" : \"\";\n            break;\n\n        case 'percentDeduct':\n            errors[name] = (value === \"\" || value < 5 || value > 100) && type === 'upto' ? \"Percent discount should be greater than 5 and less than 100\" : \"\";\n            break;\n\n        case 'maxPercent':\n            errors[name] = (value === \"\" || value < 500) && type === 'upto' ? \"Maximum discount amount should be greater than 500\" : \"\";\n            break;\n        default: break;\n    }\n}","import React from 'react'\nimport './Cart.css';\nimport dataContext from '../../../util/dataContext';\n\nfunction CartComponent() {\n    const {state} = React.useContext(dataContext);\n  return (\n    <div>\n        <h1>Cart:</h1>\n        <ul>\n          {\n            state.cart.map((item,id) => {\n              return <li key={id}>{item.name} - &#8377;{item.price}</li>\n            })\n          }\n        </ul>\n    </div>\n  )\n}\n\nexport default CartComponent;","import React from 'react'\nimport './ListOfCoupons.css';\nimport dataContext from '../../../util/dataContext';\n\nfunction ListOfCouponsComponents() {\n  const {state} = React.useContext(dataContext);\n  const [allCoupons, setAllCoupons] = React.useState([]);\n  const [showServerErr, setShowServerErr] = React.useState('');\n  const [showCoupon, setShowCoupon] = React.useState(false);\n\n  React.useEffect(() => {\n    fetch('/coupon-codes')\n    .then(async (val) => {\n      let coupons = await val.json();\n      if(!val.ok){\n          const error = coupons.message;\n          return Promise.reject(error);\n      }\n      else {\n        setAllCoupons(coupons);\n      }\n    })\n    .catch(err => setShowServerErr(err));\n  },[state])\n\n  function handleToShowOrHide() {\n    setShowCoupon(!showCoupon);\n  }\n\n  return (\n    <div>\n        <h1>List of Coupons:</h1>\n        {showCoupon ? <ul className='list-of-coupons'>\n          {allCoupons.map((coupon,id) => {\n            return <li key={id} className='coupon'>{coupon.code} <p className='coupon-desc'> -  {coupon.desc}</p></li>\n          })}\n          {showServerErr ? showServerErr : null}\n        </ul> : null}\n        <button className='hideAndShow-btn' onClick={() => {handleToShowOrHide()}}>{showCoupon ? \"Hide\" : \"Show\"}</button>\n    </div>\n  )\n}\n\nexport default ListOfCouponsComponents;","import React from 'react'\nimport './LowerHalf.css';\nimport dataContext from '../../util/dataContext';\nimport CheckoutComponent from './Checkout/Checkout';\nimport CreateCouponComponent from './Create-Coupon/CreateCoupon';\nimport CartComponent from './Cart/Cart';\nimport ListOfCouponsComponents from './ListOfCoupons/ListOfCoupons';\n\nfunction LowerHalfComponent() {\n  const {state} = React.useContext(dataContext);\n\n  return (\n    <div className='lower-container'>\n      <div className='left-container'>\n        <CartComponent/>\n      </div>\n      <div style={{border: \"10px solid black\"}}></div>\n      <div className='right-container'>\n        {state.createMode ? <CreateCouponComponent/> : <CheckoutComponent/>}\n      </div>\n      <div style={{border: \"10px solid black\"}}></div>\n      <div className='right-container'>\n        <ListOfCouponsComponents/>\n      </div>\n    </div>\n  )\n}\n\nexport default LowerHalfComponent;","import { ADD_TO_CART, ADD_COUPON, SWITCH_TO_CREATE, SET_SERVER_ERROR } from \"./types\";\n\nconst initialState = {\n    name: \"\",\n    category: \"\",\n    price: 0,\n    cart: [],\n    couponCount: 0,\n    createMode: false,\n    serverError: \"\"\n}\n\nconst reducer = (state, action) => {\n    if(state === undefined) state = initialState;\n    const {name,category,price} = action;\n    switch(action.type){\n        case ADD_TO_CART:\n            return {\n                ...state,\n                cart: [...state.cart, {name,category,price}]\n            }\n        case ADD_COUPON:\n            return {\n                ...state,\n                couponCount: state.couponCount++\n            }\n        case SWITCH_TO_CREATE:\n            return {\n                ...state,\n                createMode: action.switchVal\n            }\n        case SET_SERVER_ERROR:\n            return {\n                ...state,\n                serverError: action.serverError\n            }\n        default:\n            return state;\n    }\n    \n}\n\nexport {\n    reducer,\n    initialState\n}","import React from 'react';\nimport './App.css';\nimport UpperHalf from './components/Upper-Half/UpperHalf';\nimport LowerHalf from './components/Lower-Half/LowerHalf';\nimport {reducer, initialState} from './reducer/Reducer';\nimport dataContext from './util/dataContext';\n\nfunction App() {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return (\n    <>\n      <dataContext.Provider value={{state,dispatch}}>\n        <div className='upper-half'> \n          <UpperHalf/>\n        </div>\n        <div className='dividing-border'></div>\n        <div className='lower-half'>\n          <LowerHalf/>\n        </div>\n      </dataContext.Provider>\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}